{"version":3,"sources":["js/local-storage.js","js/theme-switcher.js"],"names":["save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remowe","removeItem","clear","switcherRefs","switcher","document","querySelector","body","PAGE_THEME","savedPageTheme","darkTheme","lightTheme","onSwitch","evt","currentTarget","children","classList","toggle","checked","setAttribute","getThemeFromLocalStorage","settings","bodyStyle","darkBg","add","lightBg","remove","checkBoxValue","addEventListener"],"mappings":";AAgCiB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAhCjB,MAAMA,EAAO,CAACC,EAAKC,KACX,IACIC,MAAAA,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAIvCC,EAAOV,IACP,IACIE,MAAAA,EAAkBG,aAAaM,QAAQX,GACtCE,OAAoB,OAApBA,OAA2BU,EAAYT,KAAKU,MAAMX,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAIvCK,EAASd,IACP,IACAK,aAAaU,WAAWf,GAC1B,MAAOO,GACPC,QAAQD,MAAM,uBAAwBA,EAAME,WAG9CO,EAAQ,KACP,IACDX,aAAaW,QACX,MAAOT,GACPC,QAAQD,MAAM,uBAAwBA,EAAME,WAGnC,IAAA,EAAA,CACbV,KAAAA,EACAW,KAAAA,EACFI,OAAAA,EACEE,MAAAA,GAJa,QAAA,QAAA;;ACmBhB,aAnDD,IAAA,EAAA,EAAA,QAAA,oBAmDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAlDD,MAAMC,EAAe,CAChBC,SAAUC,SAASC,cAAc,WAClCC,KAAMF,SAASE,MAEbC,EAAa,aACbC,EAAiBlB,EAAaK,QAAAA,KAAKY,GACnCE,EAAY,OACZC,EAAa,QASnB,SAASC,EAASC,GAEdA,EAAIC,cAAcC,SAAS,GAAGC,UAAUC,OAAO,aAC/CJ,EAAIC,cAAcC,SAAS,GAAGC,UAAUC,OAAO,aAG3Cd,EAAaC,SAASW,SAAS,GAAGG,SACrBlB,EAAAA,QAAAA,OAAOQ,GACpBL,EAAaI,KAAKY,aAAa,aAAc,QAChClC,EAAAA,QAAAA,KAAKuB,EAAYE,KAKjBV,EAAAA,QAAAA,OAAOQ,GACpBL,EAAaI,KAAKY,aAAa,aAAc,SAChClC,EAAAA,QAAAA,KAAKuB,EAAYG,IAMtC,SAASS,IACDX,GAAAA,IAAmBC,EAAW,CAQvBW,MAPU,CACbC,UAAWnB,EAAaI,KAAKY,aAAa,aAAc,QACxDI,OAAQpB,EAAaC,SAASW,SAAS,GAAGC,UAAUQ,IAAI,aACxDC,QAAStB,EAAaC,SAASW,SAAS,GAAGC,UAAUU,OAAO,aAC5DC,cAAexB,EAAaC,SAASW,SAAS,GAAGG,SAAQ,GAK3Df,OAAAA,EAAaI,KAAKY,aAAa,aAAc,SAvCvDC,IAEAjB,EAAaC,SAASwB,iBAAiB,SAAUhB","file":"theme-switcher.f28e3049.js","sourceRoot":"../src","sourcesContent":["const save = (key, value) => {\n    try {\n      const serializedState = JSON.stringify(value);\n      localStorage.setItem(key, serializedState);\n    } catch (error) {\n      console.error(\"Set state error: \", error.message);\n    }\n  };\n  \n  const load = key => {\n    try {\n      const serializedState = localStorage.getItem(key);\n      return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n      console.error(\"Get state error: \", error.message);\n    }\n  };\n\n  const remowe = key => {\n      try {\n          localStorage.removeItem(key)\n      } catch (error) {\n        console.error(\"Remowe state error: \", error.message);\n    }\n  }\nconst clear = () => {\n    try{\n      localStorage.clear();\n      } catch (error) {\n        console.error(\"Remowe state error: \", error.message);\n    }\n  }\n  export default {\n    save,\n    load,\n  remowe,\n    clear,\n  };\n","import localStorage from \"./local-storage\";\nconst switcherRefs = {\n     switcher: document.querySelector('.switch'),\n    body: document.body,\n}\nconst PAGE_THEME = 'page-theme';\nconst savedPageTheme = localStorage.load(PAGE_THEME);\nconst darkTheme = 'dark'\nconst lightTheme = 'light'\n\n\ngetThemeFromLocalStorage();\n\nswitcherRefs.switcher.addEventListener('change', onSwitch);\n\n\n\nfunction onSwitch(evt) {\n    \n    evt.currentTarget.children[1].classList.toggle('is-hidden');\n    evt.currentTarget.children[2].classList.toggle('is-hidden');\n\n \n    if (switcherRefs.switcher.children[0].checked) {\n        localStorage.remowe(PAGE_THEME)\n        switcherRefs.body.setAttribute('data-theme', 'dark');\n        localStorage.save(PAGE_THEME, darkTheme)\n      \n        \n        \n    } else {\n        localStorage.remowe(PAGE_THEME)\n        switcherRefs.body.setAttribute('data-theme', 'light');\n        localStorage.save(PAGE_THEME, lightTheme)\n      \n    }\n      \n}\n\nfunction getThemeFromLocalStorage() {\n    if (savedPageTheme === darkTheme) {\n        const settings = {\n            bodyStyle: switcherRefs.body.setAttribute('data-theme', 'dark'),\n            darkBg: switcherRefs.switcher.children[1].classList.add('is-hidden'),\n            lightBg: switcherRefs.switcher.children[2].classList.remove('is-hidden'),\n            checkBoxValue: switcherRefs.switcher.children[0].checked=true,\n\n        }\n        return settings;\n    }\n   return switcherRefs.body.setAttribute('data-theme', 'light');\n}"]}