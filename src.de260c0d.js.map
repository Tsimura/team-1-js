{"version":3,"sources":["js/trending_films.js","index.js"],"names":["films","document","querySelector","genreId","getFilms","fetch","then","response","ok","Error","json","createFilmoteka","resp","console","log","results","map","data","insertAdjacentHTML","articles","makeGenres","numbers","genreName","genreNumbers","filter","number","id","name","length","newGenres","slice","join","poster_path","original_title","release_date","genre_ids","substr","catch","error"],"mappings":";;;AAAA,MAAMA,EAAQC,SAASC,cAAe,YAEhCC,EAAU,CAChB,CAAO,GAAA,GAAY,KAAA,UACnB,CAAM,GAAA,GAAU,KAAA,aAChB,CAAM,GAAA,GAAU,KAAA,aAChB,CAAM,GAAA,GAAU,KAAA,UAChB,CAAM,GAAA,GAAU,KAAA,SAChB,CAAM,GAAA,GAAU,KAAA,eAChB,CAAM,GAAA,GAAU,KAAA,SAChB,CAAM,GAAA,MAAa,KAAA,UACnB,CAAM,GAAA,GAAU,KAAA,WAChB,CAAM,GAAA,GAAU,KAAA,WAChB,CAAM,GAAA,GAAU,KAAA,UAChB,CAAM,GAAA,MAAa,KAAA,SACnB,CAAM,GAAA,KAAY,KAAA,WAClB,CAAM,GAAA,MAAa,KAAA,WACnB,CAAM,GAAA,IAAW,KAAA,mBACjB,CAAM,GAAA,MAAa,KAAA,YACnB,CAAM,GAAA,GAAU,KAAA,YAChB,CAAM,GAAA,MAAa,KAAA,OACnB,CAAQ,GAAA,GAAY,KAAA,YAEpB,SAASC,IAGEC,OAAAA,MAAO,6FACTC,KAAKC,IACE,IAACA,EAASC,GACP,MAAA,IAAIC,MAAO,uBAEXF,OAAAA,EAASG,SAM5B,SAASC,EAAgBC,GACrBC,QAAQC,IAAIF,GACZA,EAAKG,QAAQC,IAAKC,GACRjB,EAAMkB,mBAAoB,YAAYC,EAASF,KAI7D,SAASG,EAAWC,GACVC,MAOAC,EAPYpB,EAAQqB,OAAOP,IACxB,IAAA,IAAIQ,KAAUJ,EACXJ,GAAAA,EAAKS,KAAOD,EACLR,OAAAA,IAIYD,IAAIC,GAAQA,EAAKU,MAC5CJ,GAAAA,EAAaK,QAAU,EAAG,CAGnBC,MADW,IADJN,EAAaO,MAAM,EAAG,GACN,SACbC,KAAK,MAEfR,OAAAA,EAAaQ,KAAK,MAIjC,SAASZ,GAAS,YAAEa,EAAF,eAAeC,EAAf,aAA+BC,EAA/B,UAA6CC,IAElD,gKACiGH,WAAqBC,4CACpGA,uCACDE,aAAqBD,EAAaE,OAAO,EAAG,8BAhC1EhC,IAAWE,KAAKK,GAAiB0B,MAAMC,GAASzB,QAAQC,IAAIwB;;AClC5D,aADA,QAAA,oBACA,QAAA","file":"src.de260c0d.js","sourceRoot":"../src","sourcesContent":["const films = document.querySelector(`#gallery`)\n\nconst genreId = [\n{\"id\": 28, \"name\": \"Action\" },\n{\"id\":12,\"name\":\"Adventure\"},\n{\"id\":16,\"name\":\"Animation\"},\n{\"id\":35,\"name\":\"Comedy\"},\n{\"id\":80,\"name\":\"Crime\"},\n{\"id\":99,\"name\":\"Documentary\"},\n{\"id\":18,\"name\":\"Drama\"},\n{\"id\":10751,\"name\":\"Family\"},\n{\"id\":14,\"name\":\"Fantasy\"},\n{\"id\":36,\"name\":\"History\"},\n{\"id\":27,\"name\":\"Horror\"},\n{\"id\":10402,\"name\":\"Music\"},\n{\"id\":9648,\"name\":\"Mystery\"},\n{\"id\":10749,\"name\":\"Romance\"},\n{\"id\":878,\"name\":\"Science Fiction\"},\n{\"id\":10770,\"name\":\"TV Movie\"},\n{\"id\":53,\"name\":\"Thriller\"},\n{\"id\":10752,\"name\":\"War\"},\n{ \"id\": 37, \"name\": \"Western\" }]\n\nfunction getFilms() {\n    const BASE_URL = `https://api.themoviedb.org/3`\n    const API_KEY = `api_key=221ed015def0321f18a85f3fc7b4d6fa`\n    return fetch(`${BASE_URL}/trending/movie/week?${API_KEY}`)\n        .then(response => {\n            if (!response.ok) {\n             throw new Error(`Error fetching data`)\n            }\n            return response.json()\n        })\n}\n\ngetFilms().then(createFilmoteka).catch(error => console.log(error))\n\nfunction createFilmoteka(resp) {\n    console.log(resp)\n    resp.results.map((data) => {\n       return films.insertAdjacentHTML(`beforeend`, articles(data))    \n    })\n}\n\nfunction makeGenres(numbers) {\n    const genreName = genreId.filter(data => {\n        for (let number of numbers) {\n            if (data.id === number) {\n                return data\n            }\n        } \n    })\n    const genreNumbers = genreName.map(data => data.name)\n    if (genreNumbers.length >= 3) {\n        const prune = genreNumbers.slice(0, 2)\n        const newGenres = [...prune, `Other`]\n        return newGenres.join(\", \")\n    } else {\n        return genreNumbers.join(\", \")\n    }\n}\n\nfunction articles({ poster_path, original_title, release_date, genre_ids }) {\n\n    return  `<div id=\"gallery\" class=\"hp__gallery_el\">\n      <div class=\"hp__gallery_img-wrapper\"><img class=\"hp__gallery_img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${original_title}\" ></div>\n      <h2 class=\"film_title\">${original_title}</h2>\n      <p class=\"film_genre\">${genre_ids} | <span>${release_date.substr(0, 4)}</span></p>\n\n    </div>`\n}\n    \n// width=\"274px\" height=\"398px\"\n\n","import './sass/main.scss';\nimport \"./js/trending_films\";\n"]}