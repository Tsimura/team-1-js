{"version":3,"sources":["js/local-storage.js","js/theme-switcher.js"],"names":["save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remowe","removeItem","switcherRefs","switcher","document","querySelector","body","header","footer","footerP","querySelectorAll","footerLinks","footerHeadings","footerSVG","gallery","modalForm","modalBtn","modalSvg","modalSignature","modalCharacteristics","PAGE_THEME","savedPageTheme","lightTheme","name","darkTheme","onSwitch","evt","currentTarget","children","classList","toggle","target","removeAttribute","checked","removeDarkThemeStyles","log","addDarkThemeStyles","style","backgroundImage","backgroundColor","add","fill","changeTextColorByStyle","changeTextColorByClass","changeSvgFill","remove","removeAttributeStyle","removeAttributeStyleFromArray","removeDarkThemeClass","arr","forEach","el","elem","color","svg","addEventListener"],"mappings":"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","file":"theme-switcher.7a9c0f09.js","sourceRoot":"../src","sourcesContent":["const save = (key, value) => {\n    try {\n      const serializedState = JSON.stringify(value);\n      localStorage.setItem(key, serializedState);\n    } catch (error) {\n      console.error(\"Set state error: \", error.message);\n    }\n  };\n  \n  const load = key => {\n    try {\n      const serializedState = localStorage.getItem(key);\n      return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n      console.error(\"Get state error: \", error.message);\n    }\n  };\n\n  const remowe = key => {\n      try {\n          localStorage.removeItem(key)\n      } catch (error) {\n        console.error(\"Remowe state error: \", error.message);\n    }\n  }\n  \n  export default {\n    save,\n    load,\n    remowe,\n  };\n","import localStorage from \"./local-storage\";\n\nconst switcherRefs = {\n    switcher: document.querySelector('.switch'),\n    body: document.querySelector('body'),\n    header: document.querySelector('.header'),\n    footer: document.querySelector('footer'),\n    footerP: document.querySelectorAll('footer p'),\n    footerLinks: document.querySelectorAll('footer a'),\n    footerHeadings: document.querySelectorAll('footer h2'),\n    footerSVG: document.querySelectorAll('footer svg'),\n    gallery: document.querySelector('.hp__gallery_wrapper'),\n    modalForm: document.querySelector('.film-card-modal-window'),\n    modalBtn: document.querySelector('.close-modal-window-btn'),\n    modalSvg: document.querySelector('.icon-close-modal'),\n    modalSignature: document.querySelector('.modal-window-signature'),\n    modalCharacteristics: document.querySelectorAll('.modal-window-characteristics-value li'),\n    \n}\n\nconst PAGE_THEME = 'page-theme';\nconst savedPageTheme = localStorage.load(PAGE_THEME);\nconst lightTheme = {\n    name: 'light-theme',\n    'switcherRefs.switcher.children[0].checked':true,\n}\nconst darkTheme = {\n    name: 'dark-theme',\n    'switcherRefs.switcher.children[0].checked':false,\n}\n// switcherRefs.switcher.children[0].setAttribute('checked', 'checked');\n// getThemeFromLocalStorage();\n\nswitcherRefs.switcher.addEventListener('change', onSwitch);\n\n\n\n\n\n  function onSwitch(evt) {\n    \n    evt.currentTarget.children[2].classList.toggle('is-hidden');\n    evt.target.removeAttribute('checked');\n    evt.currentTarget.children[1].classList.toggle('is-hidden');\n \n    if (!switcherRefs.switcher.children[0].checked) {\n        addDarkThemeStyles();\n        \n        // localStorage.save(PAGE_THEME, JSON.stringify(darkTheme));\n        \n        // getThemeFromLocalStorage()\n        console.log(localStorage.load(PAGE_THEME))\n    } else{\n        removeDarkThemeStyles();\n        // console.log('checked',switcherRefs.switcher.children[0].checked)\n        // localStorage.save(PAGE_THEME, JSON.stringify(lightTheme));\n       \n        // getThemeFromLocalStorage();\n        console.log(localStorage.load(PAGE_THEME))\n    }\n  }\n  \n\n\nfunction addDarkThemeStyles() {\n       switcherRefs.body.style.backgroundImage = ' linear-gradient(0deg, rgb(101, 21, 139) 25%, rgb(17, 17, 26) 73%)';\n        switcherRefs.footer.style.backgroundColor = '#000';\n        switcherRefs.gallery.classList.add('dark-theme__text-color');\n        switcherRefs.modalForm.style.backgroundImage = 'linear-gradient(0deg, rgb(101, 21, 139) 25%, rgb(17, 17, 26) 73%)';\n        switcherRefs.modalBtn.style.backgroundColor = 'rgb(17, 17, 26)';\n        switcherRefs.modalBtn.style.fill = '#ff6b01';\n        changeTextColorByStyle(switcherRefs.footerLinks)\n        changeTextColorByClass(switcherRefs.footerP);\n        changeTextColorByClass(switcherRefs.footerHeadings);\n        changeSvgFill(switcherRefs.footerSVG);\n        switcherRefs.modalSignature.classList.add('dark-theme__text-color');\n        changeTextColorByClass(switcherRefs.modalCharacteristics);\n}\n\n\nfunction removeDarkThemeStyles() {\n      switcherRefs.gallery.classList.remove('dark-theme__text-color');\n        switcherRefs.modalSignature.classList.remove('dark-theme__text-color');\n        \n        removeAttributeStyle(switcherRefs.body);\n        removeAttributeStyle(switcherRefs.header);\n        removeAttributeStyle(switcherRefs.footer);\n        removeAttributeStyleFromArray(switcherRefs.footerLinks);\n        removeAttributeStyleFromArray(switcherRefs.footerSVG);\n        removeDarkThemeClass(switcherRefs.footerP);\n        removeDarkThemeClass(switcherRefs.footerHeadings);\n        removeAttributeStyle(switcherRefs.modalForm);\n        removeAttributeStyle(switcherRefs.modalBtn);\n        removeAttributeStyle(switcherRefs.modalSvg);\n        removeDarkThemeClass(switcherRefs.modalCharacteristics);\n}\n\n// function getThemeFromLocalStorage() {\n//     if (savedPageTheme === darkTheme) {\n//         switcherRefs.switcher.children[0].removeAttribute('checked');\n//     }\n    \n// }\n\n\nfunction changeTextColorByClass(arr) {\n    \n         return arr.forEach(el => {\n           \n            return el.classList.add('dark-theme__text-color');\n     })\n    \n   \n}\n  function changeTextColorByStyle(elem) {\n    return elem.forEach(el => {\n        return el.style.color = '#fff';\n    })\n}\n  function changeSvgFill(svg) {\n    return svg.forEach(el => {\n        return el.style.fill = '#fff';\n    })\n}\n  function removeAttributeStyle(elem) {\n    return elem.removeAttribute('style');\n        \n}\n  function removeAttributeStyleFromArray(arr) {\n    return arr.forEach(el => {\n        return el.removeAttribute('style');\n    })\n}\n\nfunction removeDarkThemeClass(elem) {\n    return elem.forEach(el => {\n        return el.classList.remove('dark-theme__text-color');\n\n    })\n}\n\n\n"]}